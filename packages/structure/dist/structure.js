!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("lodash"),require("@hapi/joi")):"function"==typeof define&&define.amd?define("Structure",["lodash","joi"],e):"object"==typeof exports?exports.Structure=e(require("lodash"),require("@hapi/joi")):t.Structure=e(t._,t.joi)}(window,(function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports={SCHEMA:Symbol("schema"),ATTRIBUTES:Symbol("attributes")}},function(t,e,n){function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o=n(1),u=n(0),a=u.isPlainObject,c=u.isFunction;function s(t){return a(t)?o.ref(t.attr):t}function f(t,e){var n=e.initial;return t.options.nullable&&(n=n.allow(null)),t.options.required&&(n=n.required()),n}e.mapToJoi=function(t,e){var n=e.initial,r=e.mappings.reduce((function(e,n){var r=i(n,3),o=r[0],u=r[1],a=r[2],s=t.options[o];return void 0===s?e:function(t,e){return t&&(!c(t)||t(e))}(a,s)?e[u](s):e[u]()}),n);return r=f(t,{initial:r})},e.mapToJoiWithReference=function(t,e){var n=e.initial;return e.mappings.reduce((function(e,n){var r=i(n,2),o=r[0],u=r[1],a=t.options[o];return void 0===a?e:(a=s(a),e[u](a))}),n)},e.equalOption=function(t,e){var n=e.initial,i=t.options.equal;return void 0===i?n:(Array.isArray(i)||(i=[i]),i=i.map(s),n.equal.apply(n,r(i)))},e.requiredOption=f},function(t,e){e.classAsSecondParam=function(t){return new Error("You passed the structure class as the second parameter of attributes(). The expected usage is `attributes(schema)(".concat(t.name||"StructureClass",")`."))},e.nonObjectAttributes=function(){return new TypeError("#attributes can't be set to a non-object.")},e.arrayOrIterable=function(){return new TypeError("Value must be iterable or array-like.")},e.missingDynamicType=function(t){return new Error("Missing dynamic type for attribute: ".concat(t,"."))},e.invalidType=function(t){return new TypeError("Attribute type must be a constructor or the name of a dynamic type: ".concat(t,"."))},e.invalidAttributes=function(t,e){return new e(t)}},function(t,e,n){e.for=n(21),e.forAttribute=n(22)},function(t,e,n){var r=n(1),i=n(2).SCHEMA,o=n(3).requiredOption;e.forType=function(t){if(t.hasDynamicType)return function(t){var e=r.link("#".concat(t.options.type));return e=o(t,{initial:e})}(t);var e=function(t){var e=r.object();if(t){var n=t.attributeDefinitions.reduce((function(t,e){return Object.assign({},t,(n={},r=e.name,i=e.validation,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n));var n,r,i}),{});e=e.keys(n)}return e}(t.resolveType()[i]);return e=o(t,{initial:e})},e.resolveDynamicLinks=function(t){var e=t.schema,n=t.joiValidation;return e.attributeDefinitions.reduce((function(t,e){if(!e.hasDynamicType)return t;var n=e.resolveType();if(!n[i])return t;var r=n[i].validation;return t.shared(r.joiValidation)}),n)}},function(t,e,n){t.exports=n(8)},function(t,e,n){e.attributes=n(9)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(10),o=n(30),u=n(4);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==r(e))throw u.classAsSecondParam(e);return function(n){var r=i.for({wrappedClass:n,attributeDefinitions:t,options:e}),u=new Proxy(n,{construct:function(t,e,n){var i=Reflect.construct(t,e,n),o=Object.assign({},e[0]);return r.initializeInstance(i,{attributes:o})}});return o.addTo(r,u),u}}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var o=n(11),u=n(28),a=n(5),c=n(29),s=n(2).SCHEMA,f=function(){function t(e){var n=e.attributeDefinitions,r=e.wrappedClass,i=e.options;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=i,this.attributeDefinitions=o.for(n,{schema:this}),this.wrappedClass=r,this.identifier=r.name,this.initialization=u.for(this),this.validation=a.for(this),this.serialize=c.serialize}return i(t,null,[{key:"for",value:function(t){var e=t.attributeDefinitions,n=t.wrappedClass,r=t.options,i=n[s];return i?this.extend(i,{attributeDefinitions:e,wrappedClass:n,options:r}):new this({attributeDefinitions:e,wrappedClass:n,options:r})}},{key:"extend",value:function(t,e){var n=e.attributeDefinitions,r=e.wrappedClass,i=e.options,o=t.attributeDefinitions.byKey();return new this({attributeDefinitions:n=Object.assign({},o,{},n),wrappedClass:r,options:i=Object.assign({},t.options,{},i,{dynamics:Object.assign({},t.dynamics,{},i.dynamics)})})}}]),i(t,[{key:"initializeInstance",value:function(t,e){var n=e.attributes;return this.initialization.initialize(t,{attributes:n})}},{key:"hasDynamicTypeFor",value:function(t){return Boolean(this.options.dynamics[t])}},{key:"dynamicTypeFor",value:function(t){return this.options.dynamics[t]()}},{key:"validateAttributes",value:function(t){return t[s]&&(t=t.toJSON()),this.validation.validate(t)}},{key:"validateInstance",value:function(t){var e=t.toJSON();return this.validation.validate(e)}}]),t}();t.exports=f},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return s(t,arguments,l(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,t)})(t)}function s(t,e,n){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&f(i,n.prototype),i}).apply(null,arguments)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=n(12),y=function(t){function e(t,n){var r,u,a=n.schema;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=t.map((function(t){var e=t.name,n=t.options;return p.for(e,n,a)})).sort(p.compare),u=o(this,(r=l(e)).call.apply(r,[this].concat(i(t))));var c=!0,s=!1,f=void 0;try{for(var y,v=t[Symbol.iterator]();!(c=(y=v.next()).done);c=!0){var b=y.value;u[b.name]=b}}catch(t){s=!0,f=t}finally{try{c||null==v.return||v.return()}finally{if(s)throw f}}return u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),a(e,null,[{key:"for",value:function(t,e){var n=e.schema;return new this(t=Object.keys(t).map((function(e){return{name:e,options:t[e]}})),{schema:n})}}]),a(e,[{key:"byKey",value:function(){var t=this;return this.reduce((function(e,n){return Object.assign({},e,(r={},i=n.name,o=t[n.name],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r));var r,i,o}),{})}}]),e}(c(Array));t.exports=y},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var o=n(0),u=o.isFunction,a=o.isString,c=n(13),s=n(5),f=n(4),l=n(2).SCHEMA,p=function(){function t(e){var n=e.name,r=e.options,i=e.schema;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.__isAttributeDefinition=!0,this.name=n,this.options=r,this.dynamicDefault=u(r.default),this.hasDynamicType=m(r),this.schema=i,r.itemType&&(this.isArrayType=!0,this.itemTypeDefinition=t.for("item",r.itemType,i)),this.dynamicDefault?this.initialize=r.default:this.initialize=function(){return r.default},this.coercion=c.for(this),this.validation=s.forAttribute(this)}return i(t,null,[{key:"for",value:function(t,e,n){return e.__isAttributeDefinition?new this({name:t,options:e.options,schema:n}):(e=y(e),this.assertValidType(t,e),this.assertDynamicExists(t,e,n),new this({name:t,options:e,schema:n}))}},{key:"compare",value:function(t,e){return t.dynamicDefault===e.dynamicDefault?0:t.dynamicDefault?1:-1}},{key:"assertDynamicExists",value:function(t,e,n){if(m(e)&&!n.hasDynamicTypeFor(e.type))throw f.missingDynamicType(t)}},{key:"assertValidType",value:function(t,e){if(!m(e)&&!b(e))throw f.invalidType(t)}}]),i(t,[{key:"resolveType",value:function(){return this.hasDynamicType?this.schema.dynamicTypeFor(this.options.type):this.options.type}},{key:"coerce",value:function(t){return this.coercion.coerce(t)}},{key:"shouldSerialize",value:function(t){return this.isValuePresent(t)||this.isValueNullable(t)}},{key:"isValuePresent",value:function(t){return null!=t}},{key:"isValueNullable",value:function(t){return void 0!==t&&this.options.nullable}},{key:"isNestedSchema",get:function(){return Boolean(this.resolveType()[l])}},{key:"itemsAreStructures",get:function(){return this.isArrayType&&this.itemTypeDefinition.isNestedSchema}}]),t}(),y=function(t){return v(t)?{type:t}:t},v=function(t){return u(t)||a(t)},b=function(t){return u(t.type)},m=function(t){return a(t.type)};t.exports=p},function(t,e,n){var r=n(14),i=n(15),o=n(16),u=[n(17),n(18),n(19),n(20)];e.for=function(t){var e=function(t){if(t.isArrayType)return r;var e=u.find((function(e){return e.type===t.options.type}));if(e)return e;return i}(t);return o.create(e,t)}},function(t,e,n){function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=n(4);t.exports={isCoerced:function(){return!1},nullValue:function(){throw i.arrayOrIterable()},coerce:function(t,e){!function(t){if(!function(t){return void 0!==t&&(null!=t.length||t[Symbol.iterator])}(t))throw i.arrayOrIterable()}(t);var n=function(t){if(!Array.isArray(t)&&t[Symbol.iterator])return Array.apply(void 0,r(t));return t}(t);return function(t,e,n){for(var r=0;r<e.length;r++)t.push(n.itemTypeDefinition.coerce(e[r]));return t}(function(t){return new(t.resolveType())}(e),n,e)}}},function(t,e){t.exports={isCoerced:function(t,e){return t instanceof e.resolveType()},coerce:function(t,e){return new(e.resolveType())(t)}}},function(t,e,n){var r=n(0).isFunction;e.create=function(t,e){return{coerce:function(n){if(void 0!==n)return null===n?i(t,e):t.isCoerced(n,e)?n:t.coerce(n,e)}}};var i=function(t,e){return o(e)?u(t):null},o=function(t){return!t.options.required&&!t.options.nullable},u=function(t){return r(t.nullValue)?t.nullValue():t.nullValue}},function(t,e,n){var r=n(0).isString;t.exports={type:String,isCoerced:r,nullValue:"",coerce:function(t){return this.type(t)}}},function(t,e,n){var r=n(0).isNumber;t.exports={type:Number,isCoerced:r,nullValue:0,coerce:function(t){return this.type(t)}}},function(t,e,n){var r=n(0).isBoolean;t.exports={type:Boolean,isCoerced:r,nullValue:!1,coerce:function(t){return this.type(t)}}},function(t,e,n){var r=n(0).isDate;t.exports={type:Date,isCoerced:r,nullValue:function(){return new Date(null)},coerce:function(t){return new this.type(t)}}},function(t,e,n){var r=n(1),i=n(6),o={abortEarly:!1,convert:!1,allowUnknown:!1};t.exports=function(t){var e=t.attributeDefinitions.reduce((function(t,e){return Object.assign({},t,(n={},r=e.name,i=e.validation,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n));var n,r,i}),{}),n=r.object().keys(e).id(t.identifier);return{joiValidation:n,validate:function(e){var r=i.resolveDynamicLinks({schema:t,joiValidation:n}).validate(e,o).error;return r?{valid:!1,errors:r.details.map(u)}:{valid:!0}}}};var u=function(t){return{message:t.message,path:t.path}}},function(t,e,n){var r=[n(23),n(24),n(25),n(26)],i=n(6),o=n(27);t.exports=function(t){if(t.isArrayType)return o(t);var e=r.find((function(e){return e.type===t.options.type}));return e?e.createJoiSchema(t):i.forType(t)}},function(t,e,n){var r=n(1),i=n(0).isPlainObject,o=n(3),u=o.mapToJoi,a=o.equalOption;t.exports={type:String,joiMappings:[["minLength","min",!0],["maxLength","max",!0],["exactLength","length",!0],["regex","regex",!0],["alphanumeric","alphanum"],["lowerCase","lowercase"],["upperCase","uppercase"],["email","email"],["guid","guid",i]],createJoiSchema:function(t){var e=r.string();return t.options.empty&&(e=e.allow("")),e=a(t,{initial:e}),u(t,{initial:e,mappings:this.joiMappings})}}},function(t,e,n){var r=n(1),i=n(3),o=i.mapToJoi,u=i.mapToJoiWithReference,a=i.equalOption;t.exports={type:Number,joiMappings:[["integer","integer"],["precision","precision",!0],["multiple","multiple",!0],["positive","positive",!0],["negative","negative",!0]],valueOrRefOptions:[["min","min"],["greater","greater"],["max","max"],["less","less"]],createJoiSchema:function(t){var e=u(t,{initial:r.number(),mappings:this.valueOrRefOptions});return e=a(t,{initial:e}),o(t,{initial:e,mappings:this.joiMappings})}}},function(t,e,n){var r=n(1),i=n(3),o=i.mapToJoi,u=i.equalOption;t.exports={type:Boolean,joiMappings:[],createJoiSchema:function(t){var e=u(t,{initial:r.boolean()});return o(t,{initial:e,mappings:this.joiMappings})}}},function(t,e,n){var r=n(1),i=n(3),o=i.mapToJoi,u=i.mapToJoiWithReference,a=i.equalOption;t.exports={type:Date,joiMappings:[],valueOrRefOptions:[["min","min"],["max","max"]],createJoiSchema:function(t){var e=u(t,{initial:r.date(),mappings:this.valueOrRefOptions});return e=a(t,{initial:e}),o(t,{initial:e,mappings:this.joiMappings})}}},function(t,e,n){var r=n(1),i=n(3).mapToJoi,o=[["minLength","min",!0],["maxLength","max",!0],["exactLength","length",!0],["unique","unique"]];t.exports=function(t){var e=r.array().items(t.itemTypeDefinition.validation),n=t.options.sparse,u=void 0===n||n;return e=e.sparse(u),e=i(t,{initial:e,mappings:o})}},function(t,e,n){var r=n(2).ATTRIBUTES;e.for=function(t){return{initialize:function(e,n){var o=n.attributes;Object.defineProperty(e,r,{configurable:!0,value:Object.create(null)});for(var u=0;u<t.attributeDefinitions.length;u++){var a=t.attributeDefinitions[u],c=o[a.name];e[a.name]=i(e,c,a)}return e}}};var i=function(t,e,n){return void 0!==e?e:n.initialize(t)}},function(t,e,n){var r=n(2).SCHEMA;function i(t){return null==t?t:function(t){var e=t[r],n=Object.create(null),i=!0,u=!1,a=void 0;try{for(var c,s=e.attributeDefinitions[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var f=c.value,l=t[f.name];f.shouldSerialize(l)&&(n[f.name]=o(l,f))}}catch(t){u=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(u)throw a}}return n}(t)}function o(t,e){return e.itemsAreStructures?t.map(i):e.isNestedSchema?i(t):t}e.serialize=i},function(t,e,n){var r=n(0).isObject,i=n(2),o=i.SCHEMA,u=i.ATTRIBUTES,a=n(4),c=n(31),s=n(33),f=Object.defineProperty;e.addTo=function(t,e){var n,i;f(e,o,{value:t}),f(e.prototype,o,{value:t}),n=c.for(t,e),f(e,"buildStrict",{value:n.buildStrict}),f(e.prototype,"attributes",{get:function(){return this[u]},set:function(t){if(!r(t))throw a.nonObjectAttributes();f(this,u,{configurable:!0,value:t})}}),t.attributeDefinitions.forEach((function(n){f(e.prototype,n.name,function(e){var n=e.name;return{get:function(){return this.attributes[n]},set:function(e){this.attributes[n]=t.attributeDefinitions[n].coerce(e)}}}(n))})),f(e,"validate",{value:function(e){return t.validateAttributes(e)}}),f(e.prototype,"validate",{value:function(){return t.validateInstance(this)}}),f(e.prototype,"toJSON",{value:function(){return t.serialize(this)}}),i=s.for(e),f(e.prototype,"clone",{value:i.clone})}},function(t,e,n){function r(t,e,n){return(r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o}).apply(null,arguments)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=n(4),u=n(32);e.for=function(t,e){var n=t.options.strictValidationErrorClass||u;return{buildStrict:function(){for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];var a=r(e,i),c=a.validate(),s=c.valid,f=c.errors;if(!s)throw o.invalidAttributes(f,n);return a}}}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){var e="function"==typeof Map?new Map:void 0;return(i=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return o(t,arguments,a(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,t)})(t)}function o(t,e,n){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&u(i,n.prototype),i}).apply(null,arguments)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=r(this,a(e).call(this,"Invalid Attributes"))).details=t,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t),e}(i(Error));t.exports=c},function(t,e){e.for=function(t){return{clone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.strict,i=Object.assign({},this.attributes,{},e);return r?t.buildStrict(i):new t(i)}}}}])}));